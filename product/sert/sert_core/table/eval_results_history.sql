--liquibase formatted sql
-------------------------------------------------------------------------------
-- Copyright (c) 2024 Oracle and/or its affiliates.
-- Licensed under the Universal Permissive License v 1.0 as shown
-- at https://oss.oracle.com/licenses/upl/
--------------------------------------------------------------------------------

--changeset mipotter:create_table_sert_core.eval_results_history_1721796172096 endDelimiter:; runOnChange:true runAlways:false rollbackEndDelimiter:;
--preconditions onFail:MARK_RAN onError:HALT
--precondition-sql-check expectedResult:0 select count(1) from all_tables where owner = 'SERT_CORE' and table_name = 'EVAL_RESULTS_HISTORY';
CREATE TABLE sert_core.eval_results_history (
    eval_results_history_id NUMBER
        GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 NOCACHE ORDER )
    NOT NULL,
    eval_history_id         NUMBER NOT NULL,
    rule_name               VARCHAR2(250) NOT NULL,
    rule_key                VARCHAR2(250) NOT NULL,
    category_name           VARCHAR2(250) NOT NULL,
    category_key            VARCHAR2(250) NOT NULL,
    page_id                 NUMBER,
    component_name          VARCHAR2(250),
    item_name               VARCHAR2(250),
    column_name             VARCHAR2(250),
    shared_comp_name        VARCHAR2(250),
    result                  CLOB,
    current_value           CLOB,
    valid_values            VARCHAR2(4000)
)
LOGGING;

ALTER TABLE sert_core.eval_results_history ADD CONSTRAINT eval_results_history_pk PRIMARY KEY ( eval_results_history_id );
--rollback drop table sert_core.eval_results_history;
